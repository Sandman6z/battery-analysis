name: Sync to Wiki

on:
  push:
    branches: [ main ]
    paths:
      - 'docs/**'
      - 'README.md'

jobs:
  sync-wiki:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
    - uses: actions/checkout@v4
    
    - name: Sync Markdown to Wiki
      uses: Andrew-Chen-Wang/github-wiki-action@v3
      with:
        path: 'docs'
        commit-message: 'docs: update wiki from docs directory'
      env:
        GH_PAT: ${{ secrets.GH_PAT }}